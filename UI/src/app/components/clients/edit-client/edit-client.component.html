<div class="container">
  <div *ngIf="!(peopleReceived && clientReceived); else displayContent">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
  <ng-template #displayContent>
    <h1 class="mt-4">Edit Client</h1>
    <div *ngIf="validMessage != ''" [ngClass]="errors?.length > 0 ? 'text-danger' : 'text-success'">
      <h4 class="valid-message mt-4">{{validMessage}}</h4>
      <h5 *ngFor="let error of errors" class="errors-list">
        {{error}}
      </h5>
    </div>
    <form *ngIf="!submitted" [formGroup]="editClientForm" (ngSubmit)="submitEditClientForm()" novalidate>
      <div class="row mt-5">
        <div class="form-group col-md">
          <mat-form-field>
            <mat-select [compareWith]="equals" placeholder="Contacts" formControlName="contacts" multiple>
              <mat-option *ngFor="let person of people" [value]="person">{{person.firstName}} {{person.lastName}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="form-group col-md">
          <label>Company Name:</label>
          <input type="text" class="form-control" formControlName="companyName" required autofocus />
        </div>
      </div>
      <div class="row mt-3">
        <div class="form-group col-md">
          <label>Website URI:</label>
          <input type="text" class="form-control" formControlName="websiteUri" />
        </div>
        <div class="form-group col-md">
          <label>Phone:</label>
          <input type="text" class="form-control" formControlName="phone" required />
        </div>
      </div>
      <div class="row">
        <div class="col-md">
          <div class="panel-group">
            <div class="panel-heading">
              Physical Address
            </div>
            <div class="panel-body">
              <div class="form-group">
                <label>Physical Street Address:</label>
                <input type="text" class="form-control" formControlName="physStreet" required />
              </div>
              <div class="form-group">
                <label>Physical City:</label>
                <input type="text" class="form-control" formControlName="physCity" required />
              </div>
              <div class="form-group">
                <label>Physical State:</label>
                <input type="text" class="form-control" formControlName="physState" required />
              </div>
              <div class="form-group">
                <label>Physical Zip Code:</label>
                <input type="text" class="form-control" formControlName="physZipCode" required />
              </div>
            </div>
          </div>
        </div>
        <div class="col-md">
          <div class="panel-group">
            <div class="panel-heading">
              Mailing Address
            </div>
            <div class="panel-body">
              <div class="form-group">
                <label>Mailing Street Address:</label>
                <input type="text" class="form-control" formControlName="mailStreet" required />
              </div>
              <div class="form-group">
                <label>Mailing City:</label>
                <input type="text" class="form-control" formControlName="mailCity" required />
              </div>
              <div class="form-group">
                <label>Mailing State:</label>
                <input type="text" class="form-control" formControlName="mailState" required />
              </div>
              <div class="form-group">
                <label>Mailing Zip Code:</label>
                <input type="text" class="form-control" formControlName="mailZipCode" required />
              </div>
            </div>
          </div>
        </div>
      </div>
      <button type="submit" class="btn btn-primary mt-5 mb-5">Submit</button>
    </form>
  </ng-template>
</div>
