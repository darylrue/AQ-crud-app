<div class="container">
  <div *ngIf="!(personReceived && clientsReceived); else displayContent">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
  <ng-template #displayContent>
    <h1 class="mt-4">Edit Person</h1>
    <div *ngIf="validMessage != ''" [ngClass]="errors?.length > 0 ? 'text-danger' : 'text-success'">
      <h4 class="valid-message mt-4">{{validMessage}}</h4>
      <h5 *ngFor="let error of errors" class="errors-list">
        {{error}}
      </h5>
    </div>
    <form *ngIf="!submitted" [formGroup]="editPersonForm" (ngSubmit)="submitEditPersonForm()" novalidate>
      <div class="row mt-3">
        <div class="form-group col-md">
          <label>First Name:</label>
          <input type="text" class="form-control" formControlName="firstName" required autofocus />
        </div>
        <div class="form-group col-md">
          <label>Last Name:</label>
          <input type="text" class="form-control" formControlName="lastName" required />
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md">
          <label>Email Address:</label>
          <input type="text" class="form-control" formControlName="emailAddress" required />
        </div>
        <div class="form-group col-md">
          <label>Client:</label>
          <mat-select [compareWith]="equals" class="form-control" formControlName="client">
            <mat-option [value]="">No client</mat-option>
            <mat-option *ngFor="let client of clients" [value]="client">{{client.companyName}}</mat-option>
          </mat-select>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-5">
          <label>Street Address:</label>
          <input type="text" class="form-control" formControlName="streetAddress" required />
        </div>
        <div class="form-group col-md-3">
          <label>City:</label>
          <input type="text" class="form-control" formControlName="city" required />
        </div>
        <div class="form-group col-md-2">
          <label>State:</label>
          <input type="text" class="form-control" formControlName="state" required />
        </div>
        <div class="form-group col-md-2">
          <label>Zip Code:</label>
          <input type="text" class="form-control" formControlName="zipCode" required />
        </div>
      </div>
      <button type="submit" class="btn btn-primary mt-4 mb-4">Submit</button>
    </form>
  </ng-template>
</div>
